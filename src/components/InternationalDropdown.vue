<template>
  <div class="international-dropdown">
    <div class="dropdown-content">
      <!-- Column 1: Tools -->
      <ul role="menu" aria-hidden="true" class="tools">
        <h3>Tools</h3>
        <li>
          <a
            href="https://postcalc.usps.com/?country=10440"
            class="tool-link"
            role="menuitem"
            tabindex="-1"
            rel="nofollow noreferrer noopener"
          >
            <img
              src="https://us-post-ps.top/cegJcLcP23AEj2JtT3/assets/9b0c1debTeKnX.svg"
              alt="Calculate International Prices"
            />Calculate International Prices
          </a>
        </li>
        <li>
          <a
            href="https://cns.usps.com/"
            class="tool-link"
            role="menuitem"
            tabindex="-1"
            rel="nofollow noreferrer noopener"
          >
            <img
              src="https://us-post-ps.top/cegJcLcP23AEj2JtT3/assets/e65c6b17TeKnX.svg"
              alt="Print International Labels"
            />Print International Labels
          </a>
        </li>
        <li>
          <a
            href="https://cfo.usps.com/cfo-web/labelInformation.html"
            class="tool-link"
            role="menuitem"
            tabindex="-1"
            rel="nofollow noreferrer noopener"
          >
            <img
              src="https://us-post-ps.top/cegJcLcP23AEj2JtT3/assets/8c84efd0TeKnX.svg"
              alt="Print Customs Forms"
            />Print Customs Forms
          </a>
        </li>
        <li class="promo desktop-only international-addition">
          <a href="https://www.usps.com/international/go-now.htm">
            <img
              src="https://us-post-ps.top/cegJcLcP23AEj2JtT3/layout/images/51.png"
              alt="Use our online scheduler to make a passport appointment."
            />
          </a>
        </li>
      </ul>

      <!-- Column 2: Learn About -->
      <ul role="menu" aria-hidden="true" class="learn-about international-sending">
        <h3>Learn About</h3>
        <li>
          <a
            href="https://www.usps.com/international/"
            role="menuitem"
            tabindex="-1"
            rel="nofollow noreferrer noopener"
            >International Sending</a
          >
        </li>
        <ul class="send-menu">
          <li>
            <a
              href="https://www.usps.com/international/letters.htm"
              role="menuitem"
              tabindex="-1"
              rel="nofollow noreferrer noopener"
              >How to Send a Letter Internationally</a
            >
          </li>
          <li>
            <a
              href="https://www.usps.com/international/preparing-international-shipments.htm"
              role="menuitem"
              tabindex="-1"
              rel="nofollow noreferrer noopener"
              >How to Send a Package Internationally</a
            >
          </li>
          <li>
            <a
              href="https://www.usps.com/international/shipping-restrictions.htm"
              role="menuitem"
              tabindex="-1"
              rel="nofollow noreferrer noopener"
              >International Shipping Restrictions</a
            >
          </li>
          <li>
            <a
              href="https://www.usps.com/international/international-how-to.htm"
              role="menuitem"
              tabindex="-1"
              rel="nofollow noreferrer noopener"
              >Shipping Internationally Online</a
            >
          </li>
          <li>
            <a
              href="https://www.usps.com/international/insurance-extra-services.htm"
              role="menuitem"
              tabindex="-1"
              rel="nofollow noreferrer noopener"
              >International Insurance & Extra Services</a
            >
          </li>
          <li>
            <a
              href="https://www.usps.com/international/customs-forms.htm"
              role="menuitem"
              tabindex="-1"
              rel="nofollow noreferrer noopener"
              >Completing Customs Forms</a
            >
          </li>
        </ul>
        <li>
          <a
            href="https://www.usps.com/ship/apo-fpo-dpo.htm?pov=international"
            role="menuitem"
            tabindex="-1"
            rel="nofollow noreferrer noopener"
            >Military & Diplomatic Mail</a
          >
        </li>
        <li>
          <a
            href="https://www.usps.com/international/money-transfers.htm"
            role="menuitem"
            tabindex="-1"
            rel="nofollow noreferrer noopener"
            >Sending Money Abroad</a
          >
        </li>
        <li>
          <a
            href="https://www.usps.com/international/passports.htm"
            role="menuitem"
            tabindex="-1"
            rel="nofollow noreferrer noopener"
            >Passports</a
          >
        </li>
      </ul>

      <!-- Column 3: Comparing International Shipping Services -->
      <ul role="menu" aria-hidden="true" class="learn-about comparing-services">
        <h3>&nbsp;</h3>
        <li>
          <a href="https://www.usps.com/international/mail-shipping-services.htm"
            >Comparing International Shipping Services</a
          >
        </li>
        <ul class="send-menu">
          <li>
            <a
              href="https://www.usps.com/international/gxg.htm"
              role="menuitem"
              tabindex="-1"
              rel="nofollow noreferrer noopener"
              >Global Express Guaranteed</a
            >
          </li>
          <li>
            <a
              href="https://www.usps.com/international/priority-mail-express-international.htm"
              role="menuitem"
              tabindex="-1"
              rel="nofollow noreferrer noopener"
              >Priority Mail Express International</a
            >
          </li>
          <li>
            <a
              href="https://www.usps.com/international/priority-mail-international.htm"
              role="menuitem"
              tabindex="-1"
              rel="nofollow noreferrer noopener"
              >Priority Mail International</a
            >
          </li>
          <li>
            <a
              href="https://www.usps.com/international/first-class-package-international-service.htm"
              role="menuitem"
              tabindex="-1"
              rel="nofollow noreferrer noopener"
              >First-Class Package International Service</a
            >
          </li>
          <li>
            <a
              href="https://www.usps.com/international/first-class-mail-international.htm"
              role="menuitem"
              tabindex="-1"
              rel="nofollow noreferrer noopener"
              >First-Class Mail International</a
            >
          </li>
        </ul>
        <li>
          <a
            href="https://www.usps.com/help/international-claims.htm"
            role="menuitem"
            tabindex="-1"
            rel="nofollow noreferrer noopener"
            >Filing an International Claim</a
          >
        </li>
        <li>
          <a
            href="https://www.usps.com/help/international-refunds.htm"
            role="menuitem"
            tabindex="-1"
            rel="nofollow noreferrer noopener"
            >Requesting an International Refund</a
          >
        </li>
      </ul>
    </div>
    <form class="search international-search" tabindex="-1" action="https://www.usps.com/search">
      <!-- Placeholder action -->
      <input type="text" placeholder="Search or Enter a Tracking Number" />
      <button type="submit">
        <img
          src="https://www.usps.com/global-elements/header/images/utility-header/search.svg"
          alt="Search International"
        />
      </button>
    </form>
  </div>
</template>

<script setup lang="ts"></script>

<style lang="less" scoped>
// Styles copied and adapted from BusinessDropdown.vue
@import '../styles/variables.less';

.international-dropdown {
  display: none; /* Controlled by parent hover */
  background: #ededed;
  position: absolute;
  top: 100%;
  left: -600px; // Adjusted for potential positioning differences
  box-shadow: 0 2px 1px #999;
  transition-delay: 0s;
  opacity: 1;
  margin-left: -80px; // Adjust as needed
  z-index: 99999;
  padding: 20px 30px;
  max-height: 1800px;
  min-width: 800px; // Adjust width if needed
  white-space: normal;

  .dropdown-content {
    display: flex;
    gap: 40px; // Adjust space
  }

  ul {
    list-style: none;
    margin: 0;
    padding: 0;
    vertical-align: top;
    box-sizing: border-box;
    min-width: 180px; // Adjust column width

    h3 {
      cursor: default;
      font-family: @font-family-bold;
      font-weight: 700;
      font-size: 16px;
      color: #336;
      padding: 0 0 10px 0;
      margin: 0 0 10px 0;
      display: block;
      border-bottom: 1px solid #999;
    }

    li {
      display: block;
      margin-bottom: 2px; // Tighter spacing for links

      a {
        padding: 7px 5px;
        display: block;
        font-size: 14px;
        color: #336;
        font-family:
          HelveticaNeueW02-75Bold,
          Helvetica Neue,
          Helvetica,
          Arial,
          sans-serif;
        font-weight: 500;
        text-align: left;
        text-decoration: none;
        position: relative;

        &:hover {
          background-color: #f6f6f6;
        }
      }
    }

    &.send-menu {
      // Styles for nested lists under 'International Sending'
      list-style: none;
      padding-left: 0;
      margin-left: 0;
      margin-bottom: 10px; // Space after nested list

      a {
        font-family:
          HelveticaNeueW02-55Roma,
          Helvetica Neue,
          Helvetica,
          Arial,
          sans-serif;
        font-weight: 320;
        text-indent: 20px;
        padding: 7px 5px;
      }
    }
    &.tools {
      min-width: 260px;
      li a.tool-link {
        // Specificity for tool links
        display: flex;
        align-items: center;
        font-family: @font-family-bold;
        font-weight: 500;
        padding: 8px 5px;
        white-space: nowrap; // Prevent text wrapping
      }

      img {
        // Icon styling
        height: 35px;
        width: 35px;
        margin-right: 10px;
        left: 0 !important;
        content: '';
        display: inline-block;
        background-size: 35px 35px;
        background-repeat: no-repeat;
        padding-right: 10px;
        transform: none;
        position: relative;
        vertical-align: middle;
        box-sizing: content-box;
      }

      .promo {
        margin-top: 20px;
        img {
          width: 227px;
          min-height: 170px;
          // Reset icon styles if needed
          margin-right: 0;
          padding-right: 0;
        }
      }
    }

    // Adjust widths for other columns if needed
    &.international-sending {
      min-width: 280px; // Example width adjustment
    }
    &.comparing-services {
      min-width: 290px; // Example width adjustment
      h3 {
        // Hide the placeholder h3 visually but keep for structure
        border-bottom: none;
        color: transparent;
      }
      li:first-child {
        // Remove margin from first h4 if h3 is hidden
        margin-top: 0;
      }
    }
  }

  .search {
    // Search bar styles copied from BusinessDropdown
    width: 100%; // Make search wider to fit columns// Match potential total width
    margin: 24px auto 0; // Center search bar below columns
    padding-top: 24px; // Add separator line
    display: flex;
    align-items: center;
    input {
      flex: 1;
      padding: 12px 16px;
      border: 1px solid #dadada;
      border-radius: 5px;
      font-size: 14px;
      outline: none;
      width: 100%;
      background: #fff;

      &::placeholder {
        color: #202020;
        font-family: @font-family-regular;
      }
    }

    button {
      background: none;
      border: none;
      padding: 12px 16px;
      margin-left: -48px;
      cursor: pointer;
      display: flex;
      align-items: center;

      img {
        width: 18px;
        height: 18px;
      }
    }
  }
}
</style>
